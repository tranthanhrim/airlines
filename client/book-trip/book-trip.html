<div class="container" ng-controller="bookTripController" data-ng-init="vm.init()" layout="column">
  <div class="container">
    <p class="text-center text-primary" style="font-style:italic; font-weight:bold; font-size:30px">BOOK YOUR TRIP</p>
  </div>

  <div class="container">
      <ul class="nav nav-pills" style="margin-bottom: 30px; background-color:#E6E6E6">
        <li style="pointer-events: none;" ng-class="{'active':vm.isSetActive(0)}"><a href="#flight"> Flight </a></li>
        <li style="pointer-events: none;" ng-class="{'active':vm.isSetActive(1)}"><a href="#passenger"> Passenger </a></li>
        <li style="pointer-events: none;" ng-class="{'active':vm.isSetActive(2)}"><a href="#finish"> Finish </a></li>
      </ul>

    <div class="tab-content">
      <div id="flight" ng-show="vm.isSet(0)" layout="column">
        <div layout="column">
          <p style="font-style:italic; font-weight:bold; font-size:30px">Departure</p>
          <table class="table table-hover">
            <thead>
              <tr>
                <th style="width: 15%">Flight</th>
                <th style="width: 25%">Depart</th>
                <th style="width: 20%">From</th>
                <th style="width: 20%">To</th>
                <th style="width: 10%">Standard</th>
                <th style="width: 10%">Business</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in vm.departFlights">
                <td>{{item.code}}</td>
                <td>{{item.from.date}} - {{item.from.time}}</td>
                <td>{{item.from.name}}</td>
                <td>{{item.to.name}}</td>
                <td style="text-align: center; vertical-align: middle;">
                  <input type="radio" name="radioBtnDeparture" ng-value="item" ng-click="vm.setDepartFlight(item,item.class[1].code)">
                  <p class="text-primary" style="display: block;">{{item.class[1].price}}</p>
                </td>
                <td style="text-align: center; vertical-align: middle;">
                  <input type="radio" name="radioBtnDeparture" ng-value="item" ng-click="vm.setDepartFlight(item,item.class[0].code)">
                  <p class="text-primary" style="display: block;">{{item.class[0].price}}</p>
                </td>
              </tr>
            </tbody>             
          </table>
        </div>

        <div layout="column" style=" margin-top: 30px" ng-hide="vm.isModeOneWay()">
          <p style="font-style:italic; font-weight:bold; font-size:30px;">Return</p>
          <table class="table table-hover">
            <thead>
              <tr>
                <th style="width: 15%">Flight</th>
                <th style="width: 25%">Depart</th>
                <th style="width: 20%">From</th>
                <th style="width: 20%">To</th>
                <th style="width: 10%">Standard</th>
                <th style="width: 10%">Business</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="item in vm.returnFlights">
                <td>{{item.code}}</td>
                <td>{{item.from.date}} - {{item.from.time}}</td>
                <td>{{item.from.name}}</td>
                <td>{{item.to.name}}</td>
                <td style="text-align: center; vertical-align: middle;">
                  <input type="radio" name="radioBtnReturn" ng-value="item" ng-click="vm.setReturnFlight(item,item.class[1].code)">
                  <p class="text-primary" style="display: block;">{{item.class[1].price}}</p>
                </td>
                <td style="text-align: center; vertical-align: middle;">
                  <input type="radio" name="radioBtnReturn" ng-value="item" ng-click="vm.setReturnFlight(item,item.class[0].code)">
                  <p class="text-primary" style="display: block;">{{item.class[0].price}}</p>
                </td>
              </tr>
            </tbody>             
          </table>
        </div>
      </div>
    
      <div id="passenger" ng-show="vm.isSet(1)">
        <!-- <div layout="column">
          <p style="font-style:italic; font-weight:bold; font-size:20px">Passenger 1</p>
          <form>
            <div layout="row">
              <div class="form-group">
                <label>First name</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.firstname" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Last name</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.lastname" required>
              </div>
              <div flex="5"></div>
              <div layout="column">
                <label>Gender</label>
                <select class="form-control" ng-model="vm.mainPassengers.sex" required>
                  <option disabled selected value>Gender</option>
                  <option>Male</option>
                  <option>Female</option>
                </select>
              </div>
            </div>
            
            <div layout="row">
              <div class="form-group">
                <label for="dateOfBirth">Birthday</label>
                <input type="text" class="form-control" id="dateOfBirth" ng-model="vm.mainPassengers.birth" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Nationality</label>
                <select class="form-control" ng-options="item as item.name for item in vm.allCountries" 
                ng-model="vm.mainPassengers.passport.nationality" required>
                  <option disabled selected value>Nationality</option>
                </select>
              </div>
            </div>
            
            
            <div layout="row">
              <div class="form-group">
                <label>Mobile phone</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.phone_mobile" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Home phone</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.phone_home">
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Email</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.email">
              </div>            
            </div>
            
            <div layout="row">
              <div class="form-group">
                <label>Passport</label>
                <input type="text" class="form-control" ng-model="vm.mainPassengers.passport.number" required>
              </div>
              <div flex="5"></div>

              <div class="form-group">
                <label for="expiredDay">Expired day</label>
                <input type="text" class="form-control" id="expiredDay" ng-model="vm.mainPassengers.passport.expdate" required>
              </div>
              <div flex="5"></div>

              <div class="form-group">
                <label>Issuing Country</label>
                <select class="form-control" ng-options="item as item.name for item in vm.allCountries" 
                ng-model="vm.mainPassengers.passport.country" required>
                  <option disabled selected value>Issuing Country</option>
                </select>
              </div>
            </div>
          </form>                   
        </div> -->

        <div layout="column" ng-repeat="fields in vm.subPassengers.fields track by $index" style="margin-top: 30px">
          <p style="font-style:italic; font-weight:bold; font-size:20px">Passenger {{$index + 1}}</p>
          <form>
            <div layout="row">
              <div class="form-group">
                <label>First name</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].firstname" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Last name</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].lastname" required>
              </div>
              <div flex="5"></div>
              <div layout="column">
                <label>Gender</label>
                <select class="form-control" ng-model="vm.subPassengers.fields[$index].sex" required>
                  <option disabled selected value>Gender</option>
                  <option>Male</option>
                  <option>Female</option>
                </select>
              </div>
            </div>
            
            <div layout="row">
              <div class="form-group">
                <label for="dateOfBirth">Birthday</label>
                <input type="text" class="form-control" onfocus="(this.type='date')" onfocusout="(this.type='text')" 
                ng-model="vm.subPassengers.fields[$index].birth" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Nationality</label>
                <select class="form-control" ng-options="item.name for item in vm.allCountries" 
                ng-model="vm.subPassengers.fields[$index].passport.nationality" required>
                  <option disabled selected value>Nationality</option>
                </select>
              </div>
            </div>
            
            
            <div layout="row">
              <div class="form-group">
                <label>Mobile phone</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].phone_mobile" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Home phone</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].phone_home">
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Email</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].email">
              </div>            
            </div>
            
            <div layout="row">
              <div class="form-group">
                <label>Passport</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].passport.number" required>
              </div>
              <div flex="5"></div>

              <div class="form-group">
                <label for="expiredDay">Expired day</label>
                <input type="text" class="form-control" onfocus="(this.type='date')" onfocusout="(this.type='text')" 
                ng-model="vm.subPassengers.fields[$index].passport.expdate" required>
              </div>
              <div flex="5"></div>

              <div class="form-group">
                <label>Issuing Country</label>
                <select class="form-control" ng-options="item.name for item in vm.allCountries" 
                ng-model="vm.subPassengers.fields[$index].passport.country" required>
                  <option disabled selected value>Issuing Country</option>
                </select>
              </div>
            </div>
          </form>                   
        </div>


        <!-- <div layout="column" ng-repeat="fields in vm.subPassengers.fields track by $index" style="margin-top: 30px">
          <p style="font-style:italic; font-weight:bold; font-size:20px">Passenger {{$index + 2}}</p>
          <form>
            <div layout="row">
              <div class="form-group">
                <label>First name</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].firstname" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Last name</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].lastname" required>
              </div>
              <div layout="column">
                <label>Gender</label>
                <select class="form-control" ng-model="vm.subPassengers.fields[$index].sex" required>
                  <option disabled selected value>Gender</option>
                  <option>Male</option>
                  <option>Female</option>
                </select>
              </div>
            </div>

            <div layout="row">
              <div class="form-group">
                <label>Mobile phone</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].phone_mobile" required>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Home phone</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].phone_home">
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Email</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].email">
              </div>
            </div>

            <div layout="row">
              <div class="form-group">
                <label for="txtPassport">Passport</label>
                <input type="text" class="form-control" ng-model="vm.subPassengers.fields[$index].passport.number" required>
              </div>
              <div flex="5"></div>

              <div class="form-group">
                <label>Issuing Country</label>
                <select class="form-control" ng-options="item as item.name for item in vm.allCountries"
                ng-model="vm.subPassengers.fields[$index].passport.country" required>
                  <option disabled selected value>Issuing Country</option>
                </select>
              </div>
              <div flex="5"></div>
              <div class="form-group">
                <label>Nationality</label>
                <select class="form-control" ng-options="item as item.name for item in vm.allCountries"
                ng-model="vm.subPassengers.fields[$index].passport.nationality" required>
                  <option disabled selected value>Nationality</option>
                </select>
              </div>


            </div>
          </form>
        </div> -->
      </div>
      
      <div id="finish" ng-show="vm.isSet(2)">
        <p style="font-style:italic; font-weight:bold; font-size:30px; color: #0685aa">YOUR CODE BOOKING: {{vm.codeTicket}}</p>
      </div>
    </div>
    
  </div>
  
  <div class="container" layout="row" layout-align="end end">
    <button type="button" class="btn btn-default">Cancel</button>
    <button type="button" class="btn btn-default" ng-click="vm.navigate('back')">Back</button>
    <button type="button" class="btn btn-default" ng-click="vm.navigate('next')">Next</button>
    <button type="submit" class="btn btn-default" ng-click="vm.finishBookTrip()">Finish</button>
  </div>

  <div id="modalSelectedFlight" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">NOTIFICATION</h4>
        </div>
        <div class="modal-body">
          <p>Please select your flight</p>
        </div>
      </div>

    </div>
  </div>

</div>